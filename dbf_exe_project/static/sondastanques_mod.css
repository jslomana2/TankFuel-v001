/* Archivo CSS original que compartiste (contenido completo) + parche integrado al final */

/* ---------- TU CSS ORIGINAL (empieza aquí) ---------- */
:root{
  --bg:#0b1220;--muted:#97a5b7;--text:#e7eef6;--soft:#a6b8c9;
  --brand:#2aa8ff;--brand-2:#71d2ff;--brand-3:#0066ff;
  --good:#00cc44;--warn:#ffa500;--bad:#ff3b30;--acc:#ff9f1a;
  --panel:#0e1520;--panel2:#161e2e;--panel3:#1a2332;--shadow:rgba(3,10,21,.6)
}
*{box-sizing:border-box}html,body{height:100%}body{
  margin:0;background:radial-gradient(1200px 800px at 20% 0%,#0e1628 0%,#0b1220 50%,#0b1220 100%);
  color:var(--text);font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji"
}
.wrap{min-height:100vh;display:flex;flex-direction:column}

/* header */
header{position:sticky;top:0;z-index:50;background:#fff;border-bottom:1px solid #e6e9ee}
.h-inner{
  height:56px;display:flex;gap:14px;align-items:center;padding:0 12px 0 12px;background:#fff;color:#0b1220
}
.brand{display:inline-flex;align-items:center;gap:8px;text-decoration:none}
.brand img{height:22px;display:block}
.title{font-weight:700}
.pill{
  font-size:12px;background:rgba(11,18,32,.06);color:#0b1220;border:1px solid rgba(11,18,32,.1);
  padding:4px 8px;border-radius:10px
}
.spacer{flex:1}
.ctrls{display:flex;align-items:center;gap:8px}
.ctrls button{
  height:32px;padding:0 10px;border-radius:8px;border:1px solid rgba(11,18,32,.15);background:#fff;color:#0b1220;cursor:pointer
}
.ctrls button:hover{background:#f6f8fb}
.ctrls select{
  height:32px;border-radius:8px;border:1px solid rgba(11,18,32,.15);background:#fff;padding:0 8px;color:#0b1220
}

/* subheader */
.h-sub{
  display:flex;align-items:center;gap:12px;padding:8px 16px;border-top:1px solid #e6e9ee;background:#fff;color:#0b1220;justify-content:space-between
}
.chk-all{display:inline-flex;align-items:center;gap:8px;font-size:13px}
.chk-all input[type="checkbox"]{width:16px;height:16px;accent-color:#0b1220}
.auto-refresh-indicator{font-size:13px;color:#666;display:flex;align-items:center}
.auto-refresh-indicator #autoRefreshStatus{padding:4px 8px;border-radius:4px;background:rgba(0,0,0,0.05);font-weight:500}

/* main grid */
.grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:16px;padding:14px 16px
}
#grid.show-all-mode{display:block;padding:0}
.almacenSection{margin:20px 16px 30px 16px;padding:0;background:transparent;border:none;border-radius:0}
.almacenTitle{
  font-size:18px;font-weight:700;margin:0 0 16px 0;color:#e7eef6;background:linear-gradient(135deg,#0e1520,#1a2332);
  padding:12px 16px;border-radius:12px;border-left:4px solid var(--brand)
}
.tanks-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:16px}

/* cards */
.card{
  position:relative;background:radial-gradient(1200px 800px at -10% -10%,rgba(42,168,255,.08),rgba(113,210,255,.05) 35%,rgba(255,255,255,.03) 60%,transparent 100%),
  linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.1);
  border-radius:14px;padding:14px 12px;color:var(--text);box-shadow:0 10px 25px var(--shadow)
}
.card .head{display:flex;align-items:center;gap:10px;margin-bottom:6px}
.card .name{font-weight:800;letter-spacing:.4px;filter:drop-shadow(0 1px 0 rgba(0,0,0,.2))}
.card .state{margin-left:auto;display:inline-flex;align-items:center;gap:6px}
.state .dot{width:9px;height:9px;border-radius:50%}
.state .txt{font-size:12px;color:var(--soft)}

/* tank */
.tank-wrap{display:flex;gap:18px;margin-top:6px}
.scale{position:relative;flex:0 0 42px;color:var(--muted);padding-top:4px}
.scale .tick{height:38px;display:flex;align-items:flex-start;gap:6px}
.scale .tick span:first-child{width:24px;text-align:right;font-size:11px}
.scale .tick .line{height:1px;background:rgba(255,255,255,.15);flex:1;margin-top:6px}

.tank{
  position:relative;flex:1;height:200px;border-radius:18px;overflow:hidden;
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));
  box-shadow:inset 0 1px 0 rgba(255,255,255,.06), inset 0 -1px 0 rgba(0,0,0,.25), 0 10px 25px var(--shadow)
}

/* liquido y ondas */
.liquid{position:absolute;left:0;right:0;bottom:0;height:0%;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02) 10%,var(--brand-2) 12%)}
.wave,.wave2,.wave3{position:absolute;left:-30%;right:-30%;height:40px;border-radius:50%;opacity:.7;filter:blur(1px)}
.wave{bottom:35%;background:radial-gradient(60% 80% at 50% 50%, rgba(255,255,255,.25), rgba(255,255,255,0))}
.wave2{bottom:27%;opacity:.55}
.wave3{bottom:18%;opacity:.4}

.glass{
  position:absolute;inset:0;border-radius:18px;pointer-events:none;
  background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.02));
  box-shadow:inset 0 8px 20px rgba(255,255,255,.08), inset 0 -8px 20px rgba(0,0,0,.25)
}

/* badge porcentaje */
.pct{
  position:absolute;top:10px;left:10px;background:rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.2);
  color:#fff;font-weight:800;font-size:12px;padding:4px 6px;border-radius:8px
}

/* info list */
.info{margin-top:10px;display:grid;grid-template-columns:1fr 1fr;gap:6px 12px;color:var(--soft)}
.info .k{color:var(--muted)}
.info .v b{color:#fff}

/* footer legend */
footer{margin:20px 12px 30px;color:var(--soft);display:flex;align-items:center;gap:12px}
.legend .chip{display:inline-flex;align-items:center;gap:6px}
.legend .dot{width:10px;height:10px;display:inline-block;border-radius:50%}

/* botones varios */
#histPanel{display:none}
.hist{width:100%;border-collapse:collapse;margin:10px 0}
.hist th,.hist td{border-bottom:1px solid rgba(255,255,255,.08);padding:6px 8px;text-align:left}
#totales{margin:12px}

/* ---------- TU CSS ORIGINAL (termina aquí) ---------- */


/* === TankFuel PATCH v001 (non-destructive) ===============================
   Objetivo: 
   - Relleno del tanque ('.liquid') nítido, sin borrosidad por filtros heredados
   - Select/controles legibles en cabecera clara si fuese necesario
   - Ocultar "cuadros" vacíos (badges/spans sin texto)
   ======================================================================== */

/* Evitar que filtros externos afecten al líquido u ondas */
.tank, .tank * { filter: none !important; }

/* Nitidez en el líquido */
.liquid{
  filter: none !important;
  transform: translateZ(0);
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  will-change: height;
}

/* Mantener ondas sin suavizados excesivos */
.wave, .wave2, .wave3{
  transform: translateZ(0);
}

/* Texto legible en select de cabecera si se usara tema claro */
.h-inner .ctrls select#almacenSel{ color:#0b1220; }

/* Ocultar elementos vacíos que dibujan un rectángulo sin texto */
.badge:empty,
.almacen-nombre:empty,
.meta:empty,
.small-pill:empty{ display:none !important; }
